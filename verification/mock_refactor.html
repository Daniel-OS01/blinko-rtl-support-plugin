<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refactor Verification</title>
    <!-- CSS will be injected by the script -->
    <style>
        body { font-family: sans-serif; padding: 20px; }
        div { margin: 20px 0; padding: 10px; border: 1px solid #ccc; }
    </style>
</head>
<body class="rtl-debug-mode">
    <h1>Visual Debugger & Refactor Verification</h1>

    <!-- Case 1: RTL Detected, No Name (simulated behavior when showElementNames=false) -->
    <!-- When showElementNames is false, data-debug-name is removed (null/empty) -->
    <!-- CSS: attr(data-rtl-debug) " " attr(data-debug-name) -->
    <!-- result: "RTL " "" -> "RTL " -->
    <div id="case1" class="rtl-debug-rtl" data-rtl-debug="RTL">
        This is RTL text (No Name) - Should say "RTL".
    </div>

    <!-- Case 2: LTR Detected, No Name -->
    <div id="case2" class="rtl-debug-ltr" data-rtl-debug="LTR">
        This is LTR text (No Name) - Should say "LTR".
    </div>

    <!-- Case 3: RTL Detected, With Name -->
    <div id="case3" class="rtl-debug-rtl" data-rtl-debug="RTL" data-debug-name="div#case3">
        This is RTL text with Name - Should say "RTL div#case3".
    </div>

    <!-- Case 4: LTR Detected, With Name -->
    <div id="case4" class="rtl-debug-ltr" data-rtl-debug="LTR" data-debug-name="div#case4">
        This is LTR text with Name - Should say "LTR div#case4".
    </div>

    <!-- Case 5: Direct RTL (Old Style updated to isolate) -->
    <div id="case5" class="rtl-force">
        This should be RTL forced. Check unicode-bidi.
    </div>
</body>
</html>
